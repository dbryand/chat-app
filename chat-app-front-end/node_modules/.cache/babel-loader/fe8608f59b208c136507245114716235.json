{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nic Cabunilas\\\\Documents\\\\Web_Development_Course\\\\workspace\\\\chat-app-front-end-vs\\\\src\\\\App.js\";\nimport React, { useState } from \"react\"; //import \"./styles.css\";\n\nimport { BrowserRouter as Router, Route } from \"react-router-dom\"; //import Chat from \"./Chat\";\n//import Login from \"./Login\";\n\nfunction Chat() {\n  const [message, setMessage] = useState(\"\");\n\n  function handleChange(event) {\n    const {\n      value\n    } = event.target;\n    setMessage(value);\n  }\n\n  function handleClick(event) {\n    socket.emit('message', {\n      message\n    });\n    event.preventDefault(); //clear text fields\n\n    setMessage(\"\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"output\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange,\n    name: \"message\",\n    type: \"text\",\n    value: message,\n    placeholder: \"Insert message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, \"Send\")));\n}\n\nfunction Login() {\n  const [creds, setCreds] = useState({\n    username: \"\",\n    password: \"\"\n  });\n\n  function handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setCreds(prev => {\n      if (name === \"username\") {\n        return {\n          username: value,\n          password: prev.password\n        };\n      } else {\n        return {\n          username: prev.username,\n          password: value\n        };\n      }\n    });\n  } //Listener\n\n\n  useEffect(function () {\n    //reply for logging in\n    console.log(creds.username);\n    socket.on('login', data => {\n      if (data === \"ok\") {\n        window.open(\"/chat\", \"_self\");\n      } else if (data === \"wp\") {\n        window.open(\"/\", \"_self\");\n        alert(\"Error: wrong password\");\n      } else {\n        window.open(\"/\", \"_self\");\n        alert(\"Error in registration\");\n      }\n    });\n  }, []);\n\n  function handleClick(event) {\n    socket.emit('login', {\n      username: creds.username,\n      password: creds.password\n    });\n    event.preventDefault();\n    setCreds({\n      username: \"\",\n      password: \"\"\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange,\n    name: \"username\",\n    type: \"text\",\n    value: creds.username,\n    placeholder: \"Username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange,\n    name: \"password\",\n    type: \"password\",\n    value: creds.password,\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, \"Sign Up / Login\")));\n}\n\nexport default function App() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    exact: true,\n    component: Login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/chat\",\n    component: Chat,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["C:/Users/Nic Cabunilas/Documents/Web_Development_Course/workspace/chat-app-front-end-vs/src/App.js"],"names":["React","useState","BrowserRouter","Router","Route","Chat","message","setMessage","handleChange","event","value","target","handleClick","socket","emit","preventDefault","Login","creds","setCreds","username","password","name","prev","useEffect","console","log","on","data","window","open","alert","App"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n//import \"./styles.css\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n//import Chat from \"./Chat\";\n//import Login from \"./Login\";\n\nfunction Chat(){\n\n  const [message, setMessage] = useState(\"\");\n\n  function handleChange(event){\n      const {value} = event.target;\n      setMessage(value);\n  }\n\n  function handleClick(event){\n      socket.emit('message', { \n          message\n      });\n      event.preventDefault();\n\n      //clear text fields\n      setMessage(\"\");\n  }\n\n  return (\n      <div>\n      <Header />\n      <form>\n            <div className=\"output\"></div>\n            \n            <input \n                onChange={handleChange}\n                 name=\"message\"\n                 type=\"text\"\n                 value={message}\n                 placeholder=\"Insert message\"\n            />\n            <button onClick={handleClick}>Send</button>\n        </form>\n      </div>    \n  );\n}\n\nfunction Login(){\n\n  const [creds, setCreds] = useState({username: \"\", password: \"\"});\n\n  function handleChange(event){\n      const {name, value} = event.target;\n      setCreds(prev => {\n          if(name === \"username\"){\n              return {\n                  username: value,\n                  password: prev.password\n              }\n          }else{\n              return {\n                  username: prev.username,\n                  password: value\n              }\n          }\n      })\n  }\n\n  //Listener\n  useEffect(function(){\n      //reply for logging in\n      console.log(creds.username);\n      socket.on('login', (data) => {\n          if(data === \"ok\"){\n              window.open(\"/chat\", \"_self\");\n          }else if(data === \"wp\"){\n              window.open(\"/\", \"_self\");\n              alert(\"Error: wrong password\");\n          }else{\n              window.open(\"/\", \"_self\");\n              alert(\"Error in registration\");\n          }\n      })\n      \n  },[])\n\n  function handleClick(event){\n      \n      socket.emit('login', { \n          username: creds.username, \n          password: creds.password \n      });\n      \n      event.preventDefault();\n\n      setCreds({username: \"\", password: \"\"});\n  }\n\n  return (\n    <div>\n        <Header />\n        <form>\n              <input\n                  onChange={handleChange}\n                  name=\"username\"\n                  type=\"text\"\n                  value={creds.username}\n                  placeholder=\"Username\"\n              />\n              <input\n                 onChange={handleChange}\n                 name=\"password\"\n                 type=\"password\"\n                 value={creds.password}\n                 placeholder=\"Password\"\n              />\n              <button onClick={handleClick}>Sign Up / Login</button>\n          </form>\n    </div>\n  );\n}\n\nexport default function App() {\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Route path=\"/\" exact component={Login}/>\n        <Route path=\"/chat\" component={Chat}/>\n      </Router>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}