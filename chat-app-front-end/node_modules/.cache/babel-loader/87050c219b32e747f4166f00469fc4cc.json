{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nic Cabunilas\\\\Documents\\\\Web_Development_Course\\\\workspace\\\\chat-app-front-end-vs\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport socket from \"./SocketConn\";\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nfunction Login() {\n  const [message, setMessage] = useState(\"\");\n\n  function handleChange(event) {\n    const {\n      value\n    } = event.target;\n    setMessage(value);\n  }\n\n  function handleClick(event) {\n    socket.emit('message', {\n      message\n    });\n    event.preventDefault(); //clear text fields\n\n    setMessage(\"\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"output\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange,\n    name: \"message\",\n    type: \"text\",\n    value: message,\n    placeholder: \"Insert message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, \"Send\")));\n}\n\nfunction Chat() {\n  const [chat, setChat] = useState({\n    username: \"\",\n    message: \"\"\n  });\n  const [messages, setTextBox] = useState([]);\n\n  function handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    setChat(prev => {\n      if (name === \"username\") {\n        return {\n          username: value,\n          message: prev.message\n        };\n      } else {\n        return {\n          username: prev.username,\n          message: value\n        };\n      }\n    });\n  } //Listener\n\n\n  useEffect(function () {\n    //reply for logging in\n    socket.on('message', data => {\n      const {\n        username,\n        message\n      } = data;\n      setTextBox(prev => {\n        return [...prev, {\n          username,\n          message\n        }];\n      });\n    });\n  }, []);\n\n  function handleClick(event) {\n    socket.emit('message', {\n      username: chat.username,\n      message: chat.message\n    });\n    setChat({\n      username: \"\",\n      message: \"\"\n    });\n  }\n\n  function showMessages() {\n    messages.map(function ({\n      name,\n      message\n    }) {\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }\n      }, name, \": \", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }\n      }, message)));\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"name-field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"output\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, showMessages), /*#__PURE__*/React.createElement(TextField, {\n    name: \"username\",\n    id: \"outlined-multiline-static\",\n    variant: \"outlined\",\n    label: \"Username\",\n    value: chat.username,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"message\",\n    id: \"outlined-multiline-static\",\n    variant: \"outlined\",\n    label: \"Message\",\n    value: chat.message,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, \"Send Message\")));\n}\n\nexport default function App() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    exact: true,\n    component: Chat,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/chat\",\n    component: Login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["C:/Users/Nic Cabunilas/Documents/Web_Development_Course/workspace/chat-app-front-end-vs/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Route","Header","socket","TextField","Button","Login","message","setMessage","handleChange","event","value","target","handleClick","emit","preventDefault","Chat","chat","setChat","username","messages","setTextBox","name","prev","on","data","showMessages","map","App"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,QAA+C,kBAA/C;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;;AAEA,SAASC,KAAT,GAAgB;AAEd,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,EAAD,CAAtC;;AAEA,WAASY,YAAT,CAAsBC,KAAtB,EAA4B;AACxB,UAAM;AAACC,MAAAA;AAAD,QAAUD,KAAK,CAACE,MAAtB;AACAJ,IAAAA,UAAU,CAACG,KAAD,CAAV;AACH;;AAED,WAASE,WAAT,CAAqBH,KAArB,EAA2B;AACvBP,IAAAA,MAAM,CAACW,IAAP,CAAY,SAAZ,EAAuB;AACnBP,MAAAA;AADmB,KAAvB;AAGAG,IAAAA,KAAK,CAACK,cAAN,GAJuB,CAMvB;;AACAP,IAAAA,UAAU,CAAC,EAAD,CAAV;AACH;;AAED,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACM;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADN,eAGM;AACI,IAAA,QAAQ,EAAEC,YADd;AAEK,IAAA,IAAI,EAAC,SAFV;AAGK,IAAA,IAAI,EAAC,MAHV;AAIK,IAAA,KAAK,EAAEF,OAJZ;AAKK,IAAA,WAAW,EAAC,gBALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHN,eAUM;AAAQ,IAAA,OAAO,EAAEM,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAVN,CAFA,CADJ;AAiBD;;AAED,SAASG,IAAT,GAAe;AAEb,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBrB,QAAQ,CAAC;AAACsB,IAAAA,QAAQ,EAAE,EAAX;AAAeZ,IAAAA,OAAO,EAAE;AAAxB,GAAD,CAAhC;AACA,QAAM,CAACa,QAAD,EAAWC,UAAX,IAAyBxB,QAAQ,CAAC,EAAD,CAAvC;;AAEA,WAASY,YAAT,CAAsBC,KAAtB,EAA4B;AACxB,UAAM;AAACY,MAAAA,IAAD;AAAOX,MAAAA;AAAP,QAAgBD,KAAK,CAACE,MAA5B;AACAM,IAAAA,OAAO,CAACK,IAAI,IAAI;AACZ,UAAGD,IAAI,KAAK,UAAZ,EAAuB;AACnB,eAAO;AACHH,UAAAA,QAAQ,EAAER,KADP;AAEHJ,UAAAA,OAAO,EAAEgB,IAAI,CAAChB;AAFX,SAAP;AAIH,OALD,MAKK;AACD,eAAO;AACHY,UAAAA,QAAQ,EAAEI,IAAI,CAACJ,QADZ;AAEHZ,UAAAA,OAAO,EAAEI;AAFN,SAAP;AAIH;AACJ,KAZM,CAAP;AAaH,GApBY,CAsBb;;;AACAb,EAAAA,SAAS,CAAC,YAAU;AAChB;AACAK,IAAAA,MAAM,CAACqB,EAAP,CAAU,SAAV,EAAsBC,IAAD,IAAU;AAC7B,YAAM;AAACN,QAAAA,QAAD;AAAWZ,QAAAA;AAAX,UAAsBkB,IAA5B;AACAJ,MAAAA,UAAU,CAAEE,IAAD,IAAU;AACnB,eAAO,CAAC,GAAGA,IAAJ,EAAU;AAACJ,UAAAA,QAAD;AAAWZ,UAAAA;AAAX,SAAV,CAAP;AACD,OAFS,CAAV;AAGD,KALD;AAOH,GATQ,EASP,EATO,CAAT;;AAWA,WAASM,WAAT,CAAqBH,KAArB,EAA2B;AAEvBP,IAAAA,MAAM,CAACW,IAAP,CAAY,SAAZ,EAAuB;AACnBK,MAAAA,QAAQ,EAAEF,IAAI,CAACE,QADI;AAEnBZ,MAAAA,OAAO,EAAEU,IAAI,CAACV;AAFK,KAAvB;AAKAW,IAAAA,OAAO,CAAC;AAACC,MAAAA,QAAQ,EAAE,EAAX;AAAeZ,MAAAA,OAAO,EAAE;AAAxB,KAAD,CAAP;AACH;;AAED,WAASmB,YAAT,GAAuB;AAEnBN,IAAAA,QAAQ,CAACO,GAAT,CAAa,UAAS;AAACL,MAAAA,IAAD;AAAMf,MAAAA;AAAN,KAAT,EAAwB;AACnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGe,IADH,qBACU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAOf,OAAP,CADV,CADF;AAKD,KAND;AAQH;;AAED,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAyBmB,YAAzB,CADA,eAEA,oBAAC,SAAD;AACI,IAAA,IAAI,EAAC,UADT;AAEI,IAAA,EAAE,EAAC,2BAFP;AAGI,IAAA,OAAO,EAAC,UAHZ;AAII,IAAA,KAAK,EAAC,UAJV;AAKI,IAAA,KAAK,EAAET,IAAI,CAACE,QALhB;AAMI,IAAA,QAAQ,EAAEV,YANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFA,CADA,eAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AACE,IAAA,IAAI,EAAC,SADP;AAEE,IAAA,EAAE,EAAC,2BAFL;AAGE,IAAA,OAAO,EAAC,UAHV;AAIE,IAAA,KAAK,EAAC,SAJR;AAKE,IAAA,KAAK,EAAEQ,IAAI,CAACV,OALd;AAME,IAAA,QAAQ,EAAEE,YANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAZA,eAsBA,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEI,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAtBA,CAFJ,CADF;AA6BD;;AAED,eAAe,SAASe,GAAT,GAAe;AAE5B,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,GAAZ;AAAgB,IAAA,KAAK,MAArB;AAAsB,IAAA,SAAS,EAAEZ,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,SAAS,EAAEV,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CADF,CADF;AAQD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport socket from \"./SocketConn\";\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\n\nfunction Login(){\n\n  const [message, setMessage] = useState(\"\");\n\n  function handleChange(event){\n      const {value} = event.target;\n      setMessage(value);\n  }\n\n  function handleClick(event){\n      socket.emit('message', { \n          message\n      });\n      event.preventDefault();\n\n      //clear text fields\n      setMessage(\"\");\n  }\n\n  return (\n      <div>\n      <Header />\n      <form>\n            <div className=\"output\"></div>\n            \n            <input \n                onChange={handleChange}\n                 name=\"message\"\n                 type=\"text\"\n                 value={message}\n                 placeholder=\"Insert message\"\n            />\n            <button onClick={handleClick}>Send</button>\n        </form>\n      </div>    \n  );\n}\n\nfunction Chat(){\n\n  const [chat, setChat] = useState({username: \"\", message: \"\"});\n  const [messages, setTextBox] = useState([]);\n\n  function handleChange(event){\n      const {name, value} = event.target;\n      setChat(prev => {\n          if(name === \"username\"){\n              return {\n                  username: value,\n                  message: prev.message\n              }\n          }else{\n              return {\n                  username: prev.username,\n                  message: value\n              }\n          }\n      })\n  }\n\n  //Listener\n  useEffect(function(){\n      //reply for logging in\n      socket.on('message', (data) => {\n        const {username, message} = data;\n        setTextBox((prev) => {\n          return [...prev, {username, message}]\n        })\n      })\n      \n  },[])\n\n  function handleClick(event){\n      \n      socket.emit('message', { \n          username: chat.username, \n          message: chat.message \n      });\n\n      setChat({username: \"\", message: \"\"});\n  }\n\n  function showMessages(){\n   \n      messages.map(function({name,message}){\n        <div>\n          <h3>\n            {name}: <span>{message}</span>\n          </h3>\n        </div>\n      })\n    \n  }\n\n  return (\n    <div>\n        <Header />\n        <form>\n        <div className=\"name-field\">\n        <div className=\"output\">{showMessages}</div>\n        <TextField\n            name=\"username\"\n            id=\"outlined-multiline-static\"\n            variant=\"outlined\"\n            label=\"Username\"\n            value={chat.username}\n            onChange={handleChange}\n          />\n        </div>\n        <div>\n          <TextField\n            name=\"message\"\n            id=\"outlined-multiline-static\"\n            variant=\"outlined\"\n            label=\"Message\"\n            value={chat.message}\n            onChange={handleChange}\n          />\n        </div>\n        <Button onClick={handleClick}>Send Message</Button>\n      </form>\n    </div>\n  );\n}\n\nexport default function App() {\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Route path=\"/\" exact component={Chat}/>\n        <Route path=\"/chat\" component={Login}/>\n      </Router>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}